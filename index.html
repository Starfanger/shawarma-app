<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–®–∞—É—Ä–º–∞ –∏–∑ –∂–æ–ø—ã</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary: #00ff88;
            --accent: #ff0055;
            --bg: #0d1117;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: -apple-system, system-ui, sans-serif;
            background: var(--bg);
            color: #fff;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            user-select: none;
        }

        /* Header & Tabs */
        header { padding: 20px; text-align: center; background: rgba(0,0,0,0.2); }
        h1 { font-size: 20px; color: var(--primary); text-transform: uppercase; margin: 0; }

        .tabs {
            display: flex; gap: 10px; overflow-x: auto; padding: 15px;
            scrollbar-width: none; position: sticky; top: 0; background: var(--bg); z-index: 10;
        }
        .tabs::-webkit-scrollbar { display: none; }
        .tab {
            padding: 8px 16px; background: var(--glass); border: 1px solid var(--glass-border);
            border-radius: 20px; white-space: nowrap; font-size: 13px; transition: 0.3s;
        }
        .tab.active { background: var(--primary); color: #000; border-color: var(--primary); font-weight: bold; }

        /* Catalog */
        .container { padding: 0 15px 120px; }
        .item-card {
            background: var(--glass); border: 1px solid var(--glass-border);
            border-radius: 20px; padding: 15px; margin-bottom: 15px;
            animation: slideUp 0.4s ease forwards;
        }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .item-card h3 { margin: 0 0 5px; font-size: 18px; color: var(--primary); }
        .item-card p { margin: 0; font-size: 12px; color: #8b949e; line-height: 1.4; }
        .item-row { display: flex; justify-content: space-between; align-items: center; margin-top: 15px; }
        .price { font-weight: 800; font-size: 16px; }

        .add-btn {
            background: var(--primary); color: #000; border: none;
            padding: 8px 15px; border-radius: 12px; font-weight: bold;
            transition: 0.2s;
        }
        .add-btn:active { transform: scale(0.9); }

        /* Cart Mini */
        .cart-bar {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: rgba(20, 20, 25, 0.95); backdrop-filter: blur(20px);
            border-top: 1px solid var(--glass-border); padding: 20px;
            display: none; transform: translateY(100%); transition: 0.3s; z-index: 100;
        }
        .cart-bar.active { display: block; transform: translateY(0); }

        .order-btn {
            width: 100%; padding: 18px; border-radius: 16px; border: none;
            background: linear-gradient(90deg, #00ff88, #00bdff);
            color: #000; font-size: 16px; font-weight: 900;
        }

        .badge { background: var(--accent); color: #fff; padding: 2px 6px; border-radius: 6px; font-size: 10px; margin-left: 5px; }
    </style>
</head>
<body>

<header>
    <h1>üåØ –®–ê–£–†–ú–ê –ò–ó –ñ–û–ü–´ <small style="font-size: 10px; opacity: 0.5;">v2.0</small></h1>
</header>

<div class="tabs">
    <div class="tab active" onclick="filter('all')">–í—Å—ë</div>
    <div class="tab" onclick="filter('elderly')">üë¥ –ü–æ–∂–∏–ª—ã–µ –†–æ—Ñ–ª—ã</div>
    <div class="tab" onclick="filter('disco')">üï∫ VIP –î–∏—Å–∫–æ—Ç–µ–∫–∞</div>
    <div class="tab" onclick="filter('philosophy')">üåå –ü—Ä–µ–∏—Å–ø–æ–¥–Ω—è—è</div>
</div>

<div class="container" id="catalog">
    </div>

<div class="cart-bar" id="cartBar">
    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
        <span>–ò—Ç–æ–≥–æ: <b id="totalPrice">0</b> BYN</span>
        <span id="cartCount">0 –ø–æ–∑–∏—Ü–∏–π</span>
    </div>
    <button class="order-btn" onclick="sendOrder()">–û–§–û–†–ú–ò–¢–¨ –ó–ê–ö–ê–ó</button>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.ready();
    tg.expand();

    const menu = [
        { id: 1, cat: 'elderly', name: '–î–∞-–¥–∞-—è', price: 7.00, desc: '–ö–ª–∞—Å—Å–∏–∫–∞ –¥–ª—è –ø–æ–∂–∏–ª—ã—Ö –∫—Ä–æ–ª–∏–∫–æ–≤. –í–Ω—É—Ç—Ä–∏ –∫—É—Ä–∏—Ü–∞ –∏ –∫–∞–ø–ª—è –¥–µ–¥–æ–≤—Å–∫–æ–π –º—É–¥—Ä–æ—Å—Ç–∏.' },
        { id: 2, cat: 'elderly', name: '–ñ–º—ã—à–µ–Ω–∫–æ –í–∞–ª–µ—Ä–∏–π', price: 9.50, desc: '–û—á–µ–Ω—å –∂–∏—Ä–Ω–∞—è! –î–≤–æ–π–Ω–æ–π –º–∞–π–æ–Ω–µ–∑, –ø—Ä–∏–≤–∫—É—Å 54-—Ö –ª–µ—Ç –∏ 0 –∫–∞–ª–æ—Ä–∏–π (–Ω–µ—Ç).' },
        { id: 3, cat: 'elderly', name: '–ü–µ–Ω—Å–∏–æ–Ω–Ω—ã–π –§–æ–Ω–¥', price: 5.00, desc: '–≠–∫–æ–Ω–æ–º-–≤–∞—Ä–∏–∞–Ω—Ç. –¢–æ–ª—å–∫–æ –ª–∞–≤–∞—à, –∫–∞–ø—É—Å—Ç–∞ –∏ –Ω–∞–¥–µ–∂–¥–∞ –Ω–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é.' },
        { id: 4, cat: 'disco', name: '–Ø –ø—É–∫–∞—é (–í–∏—Ö–æ—Ä—å–∫–æ–≤)', price: 8.00, desc: '–° –æ—Å—Ç—Ä—ã–º —Ñ–∞—Å–æ–ª–µ–≤—ã–º —Å–æ—É—Å–æ–º. –í–∑—Ä—ã–≤–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ —Ç–∞–Ω—Ü–ø–æ–ª–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω!' },
        { id: 5, cat: 'disco', name: '–ó–≤–µ–∑–¥–∞ –î–∏—Å–∫–æ—Ç–µ–∫', price: 12.00, desc: '–ú–Ω–æ–≥–æ —á–µ—Å–Ω–æ–∫–∞ –∏ –ª—É–∫–∞, —á—Ç–æ–±—ã –Ω–∞ –¥–∏—Å–∫–æ—Ç–µ–∫–µ –∫ –≤–∞–º –Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏–ª.' },
        { id: 6, cat: 'disco', name: '–°–ª–∞–¥–∫–∏–π –ú—É–∂—á–∏–Ω–∞', price: 8.50, desc: '–®–∞—É—Ä–º–∞ —Å –∞–Ω–∞–Ω–∞—Å–æ–º –∏ —Å–æ—É—Å–æ–º —á–∏–ª–∏. –¢–æ–ª—å–∫–æ –¥–ª—è —Å–∞–º—ã—Ö —Å–ª–∞–¥–∫–∏—Ö.' },
        { id: 7, cat: 'philosophy', name: '–ò–¥—É—â–∏–π –∫ –†–µ–∫–µ', price: 15.00, desc: '–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ –¥–ª–∏–Ω–Ω—ã–π —Ä–æ–ª–ª. –î–ª—è —Ç–µ—Ö, –∫—Ç–æ —É–∂–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–µ–∏—Å–ø–æ–ª–Ω–∏–ª—Å—è.' },
        { id: 8, cat: 'philosophy', name: '–ù–∏–∫–∞–∫–æ–≥–æ –ü—Ä–∞–∑–¥–Ω–∏–∫–∞', price: 6.66, desc: '–í–Ω—É—Ç—Ä–∏ –Ω–∏—á–µ–≥–æ. –¢–µ–±–µ –µ–µ –Ω–µ –æ—Ç–¥–∞–¥—É—Ç, –ø–æ–∫–∞ –Ω–µ –∑–∞–ø–ª–∞—Ç–∏—à—å –∑–∞ —à–∞—Ä–∏–∫–∏.' },
        { id: 9, cat: 'philosophy', name: '–ë–æ—Ä—â —Å –ö–∞–ø—É—Å—Ç–æ–π', price: 8.00, desc: '–ó–∞–≥–∞–¥–∫–∞ –¥—ã—Ä—ã: –≤–Ω—É—Ç—Ä–∏ –≤—Å—ë, —á—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –Ω–∞ –∫—É—Ö–Ω–µ, –Ω–æ –Ω–µ –∫—Ä–∞—Å–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞.' }
    ];

    let cart = [];

    function render(filterCat = 'all') {
        const catalog = document.getElementById('catalog');
        catalog.innerHTML = '';
        
        menu.forEach(item => {
            if (filterCat !== 'all' && item.cat !== filterCat) return;

            const card = document.createElement('div');
            card.className = 'item-card';
            card.innerHTML = `
                <h3>${item.name}</h3>
                <p>${item.desc}</p>
                <div class="item-row">
                    <span class="price">${item.price.toFixed(2)} BYN</span>
                    <button class="add-btn" onclick="addToCart(${item.id})">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                </div>
            `;
            catalog.appendChild(card);
        });
    }

    function filter(cat) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        event.target.classList.add('active');
        render(cat);
    }

    function addToCart(id) {
        const item = menu.find(m => m.id === id);
        cart.push(item);
        updateCart();
        
        // –õ–µ–≥–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è
        if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
    }

    function updateCart() {
        const cartBar = document.getElementById('cartBar');
        const totalPrice = document.getElementById('totalPrice');
        const cartCount = document.getElementById('cartCount');

        if (cart.length > 0) {
            cartBar.classList.add('active');
            const sum = cart.reduce((a, b) => a + b.price, 0);
            totalPrice.innerText = sum.toFixed(2);
            cartCount.innerText = `${cart.length} —à—Ç.`;
        }
    }

    function sendOrder() {
        if (cart.length === 0) return;

        const orderData = {
            items: cart.map(i => i.name),
            total: cart.reduce((a, b) => a + b.price, 0),
            count: cart.length
        };

        tg.sendData(JSON.stringify(orderData));
    }

    render();
</script>
</body>
</html>
